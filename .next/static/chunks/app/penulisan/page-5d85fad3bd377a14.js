(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{7896:function(e,t,n){Promise.resolve().then(n.bind(n,1128))},2772:function(e,t,n){"use strict";let i=(0,n(6142).ZF)({apiKey:"AIzaSyAuMm9_M1MFh3MYZZtgXe-TLwgM9JrxCZo",authDomain:"tugas-akhir-4d34f.firebaseapp.com",projectId:"tugas-akhir-4d34f",storageBucket:"tugas-akhir-4d34f.appspot.com",messagingSenderId:"462715724181",appId:"1:462715724181:web:31ce2ce385699105c3969c",measurementId:"G-WJVJ2GVZWM"});t.Z=i},1128:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(7437),a=n(2265),r=n(2772),d=n(8121),l=n(1325),s=n(8701),o=n(8628),c=n(7907);let m=[{id:(0,l.Z)(),text:"Judul",checked:!1},{id:(0,l.Z)(),text:"Bab 1 - Pendahuluan",checked:!1},{id:(0,l.Z)(),text:"Bab 2 - Tinjauan Pustaka",checked:!1},{id:(0,l.Z)(),text:"Bab 3 - Metodologi",checked:!1},{id:(0,l.Z)(),text:"Bab 4 - Hasil & Pembahasan",checked:!1},{id:(0,l.Z)(),text:"Bab 5 - Kesimpulan",checked:!1}],u=[{id:(0,l.Z)(),text:"KTP",checked:!1},{id:(0,l.Z)(),text:"KTM",checked:!1},{id:(0,l.Z)(),text:"Surat Pengantar",checked:!1},{id:(0,l.Z)(),text:"Proposal",checked:!1}];function p(){let[e,t]=(0,a.useState)("dark"),n=(0,d.ad)(r.Z),p=(0,s.cF)(r.Z),f=(0,d.JU)(n,"penulisan","checklist"),[g,h]=(0,a.useState)(m),[x,k]=(0,a.useState)(""),[b,y]=(0,a.useState)(null),[j,v]=(0,a.useState)(""),[w,S]=(0,a.useState)([]),[C,T]=(0,a.useState)(""),[L,B]=(0,a.useState)(null),[Z,I]=(0,a.useState)(""),[R,W]=(0,a.useState)(u),[z,A]=(0,a.useState)(""),[D,E]=(0,a.useState)(null),[M,_]=(0,a.useState)(""),[F,P]=(0,a.useState)(null),[J,V]=(0,a.useState)(null),[N,G]=(0,a.useState)(""),[H,K]=(0,a.useState)(""),[U,O]=(0,a.useState)(!1),[X,Y]=(0,a.useState)(!1),{user:q,loading:Q}=(0,o.a)(),$=(0,c.useRouter)();async function ee(e){let t=[...g];t[e].checked=!t[e].checked,h(t),await (0,d.pl)(f,{penulisanList:t,tugasList:w,berkasList:R,onedrive:N,drive:H},{merge:!0})}async function et(){if(x.trim()){let e=[...g,{id:(0,l.Z)(),text:x,checked:!1}];h(e),k(""),await (0,d.pl)(f,{penulisanList:e,tugasList:w,berkasList:R,onedrive:N,drive:H},{merge:!0})}}async function en(){if(b&&j.trim()){let e=g.map(e=>e.id===b?{...e,text:j}:e);h(e),y(null),v(""),await (0,d.pl)(f,{penulisanList:e,tugasList:w,berkasList:R,onedrive:N,drive:H},{merge:!0})}}async function ei(e){let t=g.filter(t=>t.id!==e);h(t),await (0,d.pl)(f,{penulisanList:t,tugasList:w,berkasList:R,onedrive:N,drive:H},{merge:!0})}async function ea(e){let t=[...w];t[e].checked=!t[e].checked,S(t),await (0,d.pl)(f,{penulisanList:g,tugasList:t,berkasList:R,onedrive:N,drive:H},{merge:!0})}async function er(){if(C.trim()){let e=[...w,{id:(0,l.Z)(),text:C,checked:!1}];S(e),T(""),await (0,d.pl)(f,{penulisanList:g,tugasList:e,berkasList:R,onedrive:N,drive:H},{merge:!0})}}async function ed(){if(L&&Z.trim()){let e=w.map(e=>e.id===L?{...e,text:Z}:e);S(e),B(null),I(""),await (0,d.pl)(f,{penulisanList:g,tugasList:e,berkasList:R,onedrive:N,drive:H},{merge:!0})}}async function el(e){let t=w.filter(t=>t.id!==e);S(t),await (0,d.pl)(f,{penulisanList:g,tugasList:t,berkasList:R,onedrive:N,drive:H},{merge:!0})}async function es(e){let t=[...R];t[e].checked=!t[e].checked,W(t),await (0,d.pl)(f,{penulisanList:g,tugasList:w,berkasList:t,onedrive:N,drive:H},{merge:!0})}async function eo(){if(z.trim()){let e=[...R,{id:(0,l.Z)(),text:z,checked:!1}];W(e),A(""),await (0,d.pl)(f,{penulisanList:g,tugasList:w,berkasList:e,onedrive:N,drive:H},{merge:!0})}}async function ec(){if(D&&M.trim()){let e=R.map(e=>e.id===D?{...e,text:M}:e);W(e),E(null),_(""),await (0,d.pl)(f,{penulisanList:g,tugasList:w,berkasList:e,onedrive:N,drive:H},{merge:!0})}}async function em(e){let t=R.filter(t=>t.id!==e);W(t),await (0,d.pl)(f,{penulisanList:g,tugasList:w,berkasList:t,onedrive:N,drive:H},{merge:!0})}async function eu(e,t){P(e),V(null);try{let n=(0,s.iH)(p,"berkas_ta/".concat(e,"_").concat(t.name));await (0,s.KV)(n,t);let i=await (0,s.Jt)(n),a=R.map(n=>n.id===e?{...n,fileUrl:i,fileName:t.name}:n);W(a),await (0,d.pl)(f,{penulisanList:g,tugasList:w,berkasList:a,onedrive:N,drive:H},{merge:!0})}catch(e){V("Gagal upload berkas.")}P(null)}async function ep(e){let t=R.map(t=>t.id===e?{...t,fileUrl:void 0,fileName:void 0}:t);W(t),await (0,d.pl)(f,{penulisanList:g,tugasList:w,berkasList:t,onedrive:N,drive:H},{merge:!0})}async function ef(e){G(e),await (0,d.pl)(f,{penulisanList:g,tugasList:w,berkasList:R,onedrive:e,drive:H},{merge:!0})}async function eg(e){K(e),await (0,d.pl)(f,{penulisanList:g,tugasList:w,berkasList:R,onedrive:N,drive:e},{merge:!0})}(0,a.useEffect)(()=>{Q||q||$.push("/login")},[q,Q,$]),(0,a.useEffect)(()=>{(async function(){let e=await (0,d.QT)(f);if(e.exists()){let t=e.data();Array.isArray(t.penulisanList)&&h(t.penulisanList),Array.isArray(t.tugasList)&&S(t.tugasList),Array.isArray(t.berkasList)&&W(t.berkasList),"string"==typeof t.onedrive&&G(t.onedrive),"string"==typeof t.drive&&K(t.drive)}})(),t("light"===document.body.getAttribute("data-theme")?"light":"dark")},[]);let eh={background:"dark"===e?"#23272f":"#fff",borderRadius:"18px",boxShadow:"dark"===e?"0 8px 32px rgba(99,102,241,0.18)":"0 8px 32px rgba(99,102,241,0.10)",padding:"1.7em 2em",marginBottom:"2em",color:"dark"===e?"#f3f4f6":"#222",border:"dark"===e?"1.5px solid #353a47":"none"},ex={background:"#6366f1",color:"#fff",border:"none",borderRadius:"6px",padding:"0.3em 0.9em",fontWeight:500,cursor:"pointer",fontSize:"1em"},ek={...ex,background:"#ef4444"},eb={...ex,background:"#a5b4fc",color:"#23272f"};function ey(t){let{list:n,onCheck:a,onEdit:r,onDelete:d,editId:l,editText:s,setEditText:o,onEditSave:c,setEditId:m,placeholder:u,newValue:p,setNewValue:f,onAdd:g}=t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{style:{listStyle:"none",padding:0,marginBottom:"1em"},children:n.map((t,n)=>(0,i.jsx)("li",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginBottom:"1.3em",background:t.checked?"dark"===e?"#23272f":"#e0e7ff":"dark"===e?"#23272f":"#fff",borderRadius:"10px",padding:"1em",boxShadow:t.checked?"0 4px 16px rgba(99,102,241,0.15)":"0 2px 8px rgba(99,102,241,0.05)",border:t.checked?"1.5px solid #6366f1":"1px solid #353a47",color:"dark"===e?"#f3f4f6":"#222",transition:"box-shadow 0.2s, background 0.2s"},children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,i.jsx)("input",{type:"checkbox",checked:t.checked,onChange:()=>a(n),style:{marginRight:"1em",accentColor:"#6366f1",width:"1.2em",height:"1.2em"}}),l===t.id?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),style:{flex:1,marginRight:"0.5em",padding:"0.5em",borderRadius:"6px",border:"1px solid #6366f1"}}),(0,i.jsx)("button",{onClick:c,style:{...ex,marginRight:"0.3em"},children:"Simpan"}),(0,i.jsx)("button",{onClick:()=>m(null),style:eb,children:"Batal"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{style:{flex:1,fontWeight:500,fontSize:"1.08em"},children:t.text}),(0,i.jsx)("button",{onClick:()=>r(t),style:{...ex,marginRight:"0.3em"},children:"Edit"}),(0,i.jsx)("button",{onClick:()=>d(t.id),style:ek,children:"Hapus"})]})]})},t.id))}),(0,i.jsxs)("div",{style:{display:"flex",gap:"0.6em",marginTop:"0.5em"},children:[(0,i.jsx)("input",{type:"text",value:p,onChange:e=>f(e.target.value),placeholder:u,style:{flex:1,padding:"0.7em",borderRadius:"8px",border:"1.5px solid #6366f1",fontSize:"1em"}}),(0,i.jsx)("button",{onClick:g,style:{...ex,padding:"0.7em 1.2em",fontWeight:500},children:"+"})]})]})}return Q||!q?(0,i.jsx)("div",{children:"Loading..."}):(0,i.jsxs)("div",{style:{maxWidth:700,margin:"0 auto",marginTop:30,background:"dark"===e?"linear-gradient(120deg,#18181b 60%,#23272f 100%)":"linear-gradient(120deg,#eef2ff 60%,#f5f7fb 100%)"},children:[(0,i.jsx)("style",{children:"\n    @media (max-width: 600px) {\n      body {\n        padding: 0 !important;\n      }\n      main {\n        padding: 0.7rem !important;\n        max-width: 100vw !important;\n        margin-top: 0.5rem !important;\n        border-radius: 0 !important;\n        min-height: 90vh !important;\n      }\n      header {\n        padding: 0.7rem 1rem !important;\n        font-size: 1em !important;\n      }\n      .nav-link, .theme-toggle-btn {\n        font-size: 1em !important;\n        padding: 0.2em 0.5em !important;\n      }\n      h1 {\n        font-size: 1.3em !important;\n      }\n      h2 {\n        font-size: 1.1em !important;\n      }\n      [data-section-style], [data-card-style] {\n        padding: 1em 0.5em !important;\n        max-width: 100vw !important;\n        border-radius: 10px !important;\n      }\n      .main-menu-cards {\n        flex-direction: column !important;\n        gap: 1em !important;\n        min-width: 0 !important;\n        max-width: 100vw !important;\n      }\n      .main-menu-cards a {\n        min-width: 0 !important;\n        max-width: 100vw !important;\n        font-size: 1em !important;\n        padding: 1em 0.5em !important;\n      }\n      .checklist-section, .progress-section, .jadwal-section {\n        padding: 1em 0.5em !important;\n        max-width: 100vw !important;\n      }\n    }\n  "}),(0,i.jsx)("h1",{style:{fontSize:"2rem",marginBottom:"1em",color:"#7c3aed",background:"dark"===e?"linear-gradient(90deg,#c7d2fe,#7c3aed)":"linear-gradient(90deg,#7c3aed,#a5b4fc)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:700,letterSpacing:"-1px"},children:"Penulisan Tugas Akhir"}),(0,i.jsxs)("div",{style:{...eh,background:"dark"===e?"rgba(36, 41, 54, 0.82)":"rgba(255,255,255,0.96)",color:"dark"===e?"#f3f4f6":"#22223b",boxShadow:"dark"===e?"0 8px 32px rgba(124,58,237,0.22)":"0 8px 32px rgba(124,58,237,0.09)",border:"dark"===e?"1.5px solid rgba(124,58,237,0.28)":"1.5px solid #7c3aed",marginBottom:28},children:[(0,i.jsx)("h2",{style:{marginBottom:16,fontSize:"1.18em"},children:"Dokumen Tugas Akhir"}),(0,i.jsxs)("div",{style:{marginBottom:12},children:[(0,i.jsx)("label",{style:{fontWeight:500,marginRight:10},children:"Link OneDrive Dokumen TA:"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.8em",marginTop:5},children:[(0,i.jsx)("input",{type:"text",value:N,onChange:e=>ef(e.target.value),placeholder:"Paste link OneDrive TA...",style:{flex:1,padding:"0.8em",borderRadius:"10px",border:"1.5px solid #6366f1",fontSize:"1em",background:"dark"===e?"#23272f":"#fff",color:"dark"===e?"#f3f4f6":"#222"}}),(0,i.jsx)("button",{onClick:function(){N&&(navigator.clipboard.writeText(N),O(!0),setTimeout(()=>O(!1),1500))},style:ex,children:"Copy"}),N&&(0,i.jsx)("a",{href:N,target:"_blank",rel:"noopener noreferrer",style:{...eb,padding:"0.7em 1.2em",textDecoration:"none"},children:"Buka"})]}),U&&(0,i.jsx)("span",{style:{color:"#6366f1",marginLeft:10,fontWeight:500},children:"Link berhasil dicopy!"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{fontWeight:500,marginRight:10},children:"Link Google Drive Dokumen TA:"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.8em",marginTop:5},children:[(0,i.jsx)("input",{type:"text",value:H,onChange:e=>eg(e.target.value),placeholder:"Paste link Google Drive TA...",style:{flex:1,padding:"0.8em",borderRadius:"10px",border:"1.5px solid #6366f1",fontSize:"1em",background:"dark"===e?"#23272f":"#fff",color:"dark"===e?"#f3f4f6":"#222"}}),(0,i.jsx)("button",{onClick:function(){H&&(navigator.clipboard.writeText(H),Y(!0),setTimeout(()=>Y(!1),1500))},style:ex,children:"Copy"}),H&&(0,i.jsx)("a",{href:H,target:"_blank",rel:"noopener noreferrer",style:{...eb,padding:"0.7em 1.2em",textDecoration:"none"},children:"Buka"})]}),X&&(0,i.jsx)("span",{style:{color:"#6366f1",marginLeft:10,fontWeight:500},children:"Link berhasil dicopy!"})]})]}),(0,i.jsxs)("div",{style:eh,children:[(0,i.jsx)("h2",{style:{marginBottom:10,fontSize:"1.5em",fontWeight:700,color:"dark"===e?"#a5b4fc":"#6366f1"},children:"Checklist Penulisan"}),ey({list:g,onCheck:ee,onEdit:function(e){y(e.id),v(e.text)},onDelete:ei,editId:b,editText:j,setEditText:v,onEditSave:en,setEditId:y,placeholder:"Tambah item penulisan...",newValue:x,setNewValue:k,onAdd:et})]}),(0,i.jsxs)("div",{style:eh,children:[(0,i.jsx)("h2",{style:{marginBottom:10,fontSize:"1.5em",fontWeight:700,color:"dark"===e?"#a5b4fc":"#6366f1"},children:"Checklist Tugas"}),ey({list:w,onCheck:ea,onEdit:function(e){B(e.id),I(e.text)},onDelete:el,editId:L,editText:Z,setEditText:I,onEditSave:ed,setEditId:B,placeholder:"Tambah tugas baru...",newValue:C,setNewValue:T,onAdd:er})]}),(0,i.jsxs)("div",{style:eh,children:[(0,i.jsx)("h2",{style:{marginBottom:10,fontSize:"1.5em",fontWeight:700,color:"dark"===e?"#a5b4fc":"#6366f1"},children:"Checklist Berkas"}),(0,i.jsx)("ul",{style:{listStyle:"none",padding:0,marginBottom:"1em"},children:R.map((t,n)=>(0,i.jsxs)("li",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginBottom:"1.3em",background:t.checked?"dark"===e?"#23272f":"#e0e7ff":"dark"===e?"#23272f":"#fff",borderRadius:"10px",padding:"1em",boxShadow:t.checked?"0 4px 16px rgba(99,102,241,0.15)":"0 2px 8px rgba(99,102,241,0.05)",border:t.checked?"1.5px solid #6366f1":"1px solid #353a47",color:"dark"===e?"#f3f4f6":"#222",transition:"box-shadow 0.2s, background 0.2s"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,i.jsx)("input",{type:"checkbox",checked:t.checked,onChange:()=>es(n),style:{marginRight:"1em",accentColor:"#6366f1",width:"1.2em",height:"1.2em"}}),D===t.id?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"text",value:M,onChange:e=>_(e.target.value),style:{flex:1,marginRight:"0.5em",padding:"0.5em",borderRadius:"6px",border:"1px solid #6366f1"}}),(0,i.jsx)("button",{onClick:ec,style:{...ex,marginRight:"0.3em"},children:"Simpan"}),(0,i.jsx)("button",{onClick:()=>E(null),style:eb,children:"Batal"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{style:{flex:1,fontWeight:500,fontSize:"1.08em"},children:t.text}),(0,i.jsx)("button",{onClick:()=>{E(t.id),_(t.text)},style:{...ex,marginRight:"0.3em"},children:"Edit"}),(0,i.jsx)("button",{onClick:()=>em(t.id),style:ek,children:"Hapus"})]})]}),(0,i.jsxs)("div",{style:{marginTop:"0.7em",width:"100%"},children:[t.fileUrl?(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1em"},children:[(0,i.jsx)("a",{href:t.fileUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#6366f1",fontWeight:500,textDecoration:"underline"},children:t.fileName||"Download Berkas"}),(0,i.jsx)("button",{onClick:()=>ep(t.id),style:ek,children:"Hapus File"})]}):(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault();let n=e.target.elements.namedItem("file");(null==n?void 0:n.files)&&n.files[0]&&eu(t.id,n.files[0])},children:[(0,i.jsx)("input",{type:"file",name:"file",style:{marginRight:"1em",padding:"0.3em",borderRadius:"5px",border:"1px solid #6366f1",fontSize:"0.95em"},disabled:!!F,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx,.zip"}),(0,i.jsx)("button",{type:"submit",disabled:!!F,style:{...ex,padding:"0.3em 0.9em"},children:F===t.id?"Mengunggah...":"Upload"})]}),J&&F===t.id&&(0,i.jsx)("span",{style:{color:"#ef4444",marginLeft:10,fontWeight:500},children:J})]})]},t.id))}),(0,i.jsxs)("div",{style:{display:"flex",gap:"0.6em",marginTop:"0.5em"},children:[(0,i.jsx)("input",{type:"text",value:z,onChange:e=>A(e.target.value),placeholder:"Tambah item berkas...",style:{flex:1,padding:"0.7em",borderRadius:"8px",border:"1.5px solid #6366f1",fontSize:"1em"}}),(0,i.jsx)("button",{onClick:eo,style:{...ex,padding:"0.7em 1.2em",fontWeight:500},children:"+"})]})]})]})}},8628:function(e,t,n){"use strict";n.d(t,{H:function(){return s},a:function(){return o}});var i=n(7437),a=n(2265),r=n(1936),d=n(6520);let l=(0,a.createContext)({user:null,loading:!0});function s(e){let{children:t}=e,[n,s]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,r.Aj)(d.I,e=>{s(e),c(!1)});return()=>e()},[]),(0,i.jsx)(l.Provider,{value:{user:n,loading:o},children:t})}function o(){return(0,a.useContext)(l)}},6520:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var i=n(6142),a=n(1936),r=n(8121);let d=(0,i.C6)().length?(0,i.Mq)():(0,i.ZF)({apiKey:"AIzaSyAuMm9_M1MFh3MYZZtgXe-TLwgM9JrxCZo",authDomain:"tugas-akhir-4d34f.firebaseapp.com",projectId:"tugas-akhir-4d34f",storageBucket:"tugas-akhir-4d34f.appspot.com",messagingSenderId:"462715724181",appId:"1:462715724181:web:31ce2ce385699105c3969c",measurementId:"G-WJVJ2GVZWM"}),l=(0,a.v0)(d);(0,r.ad)(d)}},function(e){e.O(0,[609,15,828,316,971,69,744],function(){return e(e.s=7896)}),_N_E=e.O()}]);