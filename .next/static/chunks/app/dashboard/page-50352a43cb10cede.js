(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9846:function(e,t,n){Promise.resolve().then(n.bind(n,632))},632:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var i=n(7437),a=n(2265),r=n(2772),o=n(8121),s=n(8628),d=n(7907),l=n(6255);function c(){let e=(0,l.iK)();if(!e)return(0,i.jsx)("div",{children:"Gagal mendapatkan context. Silakan reload halaman."});let{user:t,calendarToken:n}=e,[c,m]=(0,a.useState)("dark"),[u,g]=(0,a.useState)("Judul Tugas Akhir"),[f,h]=(0,a.useState)(""),[p,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(!1),[k,j]=(0,a.useState)(u),[S,v]=(0,a.useState)(f),[w,D]=(0,a.useState)(p),[C,z]=(0,a.useState)([]),[B,W]=(0,a.useState)([]),[A,T]=(0,a.useState)([]),[R,I]=(0,a.useState)([]),[M,P]=(0,a.useState)(!1),[_,E]=(0,a.useState)(null),F=(0,o.ad)(r.Z),Z=(0,o.JU)(F,"penulisan","checklist"),{loading:J}=(0,s.a)(),L=(0,d.useRouter)();if((0,a.useEffect)(()=>{m("light"===document.body.getAttribute("data-theme")?"light":"dark")},[]),(0,a.useEffect)(()=>{(async function(){let e=await (0,o.QT)(Z);if(e.exists()){let t=e.data();Array.isArray(t.penulisanList)&&z(t.penulisanList),Array.isArray(t.tugasList)&&W(t.tugasList),Array.isArray(t.berkasList)&&T(t.berkasList)}})()},[Z]),(0,a.useEffect)(()=>{async function e(){if(n)try{let e=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){let t=await e.json();E(t.email||null)}else E(null)}catch(e){E(null)}}async function t(){if(n){P(!0);try{let e=new Date,t=encodeURIComponent(e.toISOString()),i=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events?orderBy=startTime&singleEvents=true&timeMin=".concat(t,"&maxResults=10"),{headers:{Authorization:"Bearer ".concat(n)}});if(401===i.status){I([]),E(null),P(!1);return}let a=await i.json();I((a.items||[]).filter(e=>"string"==typeof e.description&&e.description.replace(/\s+/g,"").includes("__FROM_APP__")))}catch(e){I([])}P(!1)}}n?(e(),t()):(I([]),E(null))},[n]),(0,a.useEffect)(()=>{J||t||L.push("/login")},[t,J,L]),J||!t)return(0,i.jsx)("div",{children:"Loading..."});function N(e){if(!e)return"";let t=new Date(e);if(isNaN(t.getTime()))return e;let n=e=>e.toString().padStart(2,"0");return"".concat(t.getFullYear(),"-").concat(n(t.getMonth()+1),"-").concat(n(t.getDate())," ").concat(n(t.getHours()),":").concat(n(t.getMinutes()))}let G="dark"===c?"#23272f":"#fff",K="dark"===c?"0 4px 16px rgba(0,0,0,0.32)":"0 4px 16px rgba(99,102,241,0.10)",O="dark"===c?"#f3f4f6":"#222",Y="dark"===c?"#353a47":"#e0e7ff",V={padding:"0.7em 1em",borderRadius:"10px",border:"1.5px solid #6366f1",fontSize:"1.05em",width:"100%",background:"dark"===c?"#23272f":"#fff",color:"dark"===c?"#f3f4f6":"#222",marginBottom:"0.9em",boxSizing:"border-box"},H={maxWidth:820,margin:"0 auto",marginBottom:"2em",background:G,borderRadius:"18px",boxShadow:K,padding:"2em 1.5em",color:O,border:"1px solid ".concat(Y)},X={background:"#6366f1",color:"#fff",border:"none",borderRadius:"10px",padding:"0.7em 1.2em",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px #6366f120",fontSize:"1em",transition:"background 0.2s"},U={background:"dark"===c?"#23272f":"#e0e7ff",borderRadius:"12px",padding:"1em 1.5em",color:O,fontWeight:500,fontSize:"1.08em",border:"1px solid ".concat(Y),boxShadow:"0 2px 8px rgba(99,102,241,0.07)",marginBottom:"0.7em",display:"flex",alignItems:"center",gap:"0.8em"};function q(e){let{total:t,done:n,title:a,color:r}=e,o=t?Math.round(n/t*100):0;return(0,i.jsxs)("div",{style:{marginBottom:"1.3em"},children:[(0,i.jsxs)("div",{style:{fontWeight:700,marginBottom:"0.5em",display:"flex",alignItems:"center",gap:"0.8em"},children:[(0,i.jsx)("span",{children:a}),(0,i.jsxs)("span",{style:{fontSize:"0.98em",color:"#aaa",fontWeight:400},children:["(",n,"/",t," selesai)"]}),(0,i.jsxs)("span",{style:{fontSize:"0.98em",fontWeight:600,color:r},children:[o,"%"]})]}),(0,i.jsx)("div",{style:{width:"100%",height:18,background:"dark"===c?"#23272f":"#e0e7ff",borderRadius:8,overflow:"hidden",boxShadow:"0 2px 8px rgba(99,102,241,0.07)",position:"relative"},children:(0,i.jsx)("div",{style:{width:"".concat(o,"%"),height:"100%",background:r,borderRadius:8,transition:"width 0.7s cubic-bezier(.4,1.6,.4,1)"}})})]})}let[Q,$]=(0,a.useState)(!1);return(0,i.jsxs)("div",{style:{fontFamily:"Inter, Roboto, Arial, sans-serif",background:"dark"===c?"linear-gradient(120deg,#18181b 60%,#23272f 100%)":"linear-gradient(120deg,#eef2ff 60%,#f5f7fb 100%)"},children:[(0,i.jsx)("style",{children:"\n    @media (max-width: 600px) {\n      body {\n        padding: 0 !important;\n      }\n      main {\n        padding: 0.7rem !important;\n        max-width: 100vw !important;\n        margin-top: 0.5rem !important;\n        border-radius: 0 !important;\n        min-height: 90vh !important;\n      }\n      header {\n        padding: 0.7rem 1rem !important;\n        font-size: 1em !important;\n      }\n      .nav-link, .theme-toggle-btn {\n        font-size: 1em !important;\n        padding: 0.2em 0.5em !important;\n      }\n      h1 {\n        font-size: 1.3em !important;\n      }\n      h2 {\n        font-size: 1.1em !important;\n      }\n      [data-section-style], [data-card-style] {\n        padding: 1em 0.5em !important;\n        max-width: 100vw !important;\n        border-radius: 10px !important;\n      }\n      .main-menu-cards {\n        flex-direction: column !important;\n        gap: 1em !important;\n        min-width: 0 !important;\n        max-width: 100vw !important;\n      }\n      .main-menu-cards a {\n        min-width: 0 !important;\n        max-width: 100vw !important;\n        font-size: 1em !important;\n        padding: 1em 0.5em !important;\n      }\n      .checklist-section, .progress-section, .jadwal-section {\n        padding: 1em 0.5em !important;\n        max-width: 100vw !important;\n      }\n    }\n  "}),(0,i.jsx)("h1",{style:{fontSize:"2.1em",fontWeight:800,margin:"0 auto 1.1em auto",color:"#7c3aed",background:"dark"===c?"linear-gradient(90deg,#c7d2fe,#7c3aed)":"linear-gradient(90deg,#7c3aed,#a5b4fc)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center"},children:"Dashboard Tugas Akhir"}),Q&&(0,i.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.3)",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>$(!1),children:(0,i.jsxs)("div",{style:{position:"relative",minWidth:350,maxWidth:500,margin:"0 auto",background:G,borderRadius:"18px",padding:"2rem",boxShadow:"0 8px 32px rgba(99,102,241,0.18)",color:O,border:"1px solid ".concat(Y),overflowY:"auto",maxHeight:"90vh"},onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("h2",{style:{fontWeight:700,fontSize:"1.22em",marginBottom:"1.2em"},children:"Edit Judul & Pembimbing"}),(0,i.jsx)("div",{style:{marginBottom:"1em"},children:(0,i.jsxs)("label",{children:["Judul Tugas Akhir:",(0,i.jsx)("input",{type:"text",value:k,onChange:e=>j(e.target.value),style:V,autoFocus:!0})]})}),(0,i.jsx)("div",{style:{marginBottom:"1em"},children:(0,i.jsxs)("label",{children:["Pembimbing 1:",(0,i.jsx)("input",{type:"text",value:S,onChange:e=>v(e.target.value),style:V})]})}),(0,i.jsx)("div",{style:{marginBottom:"1em"},children:(0,i.jsxs)("label",{children:["Pembimbing 2:",(0,i.jsx)("input",{type:"text",value:w,onChange:e=>D(e.target.value),style:V})]})}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1em",marginTop:"1em"},children:[(0,i.jsx)("button",{style:X,onClick:function(){g(k),h(S),x(w),$(!1)},children:"Simpan"}),(0,i.jsx)("button",{style:{background:"dark"===c?"#353a47":"#e0e7ff",color:"dark"===c?"#f3f4f6":"#6366f1",border:"none",borderRadius:"10px",padding:"0.7em 1.2em",fontWeight:600,cursor:"pointer",fontSize:"1em",marginLeft:"8px",transition:"background 0.2s"},onClick:()=>$(!1),children:"Batal"})]})]})}),(0,i.jsx)("div",{style:{...H,background:"dark"===c?"rgba(36, 41, 54, 0.82)":"rgba(255,255,255,0.96)",color:"dark"===c?"#f3f4f6":"#22223b",boxShadow:"dark"===c?"0 8px 32px rgba(124,58,237,0.22)":"0 8px 32px rgba(124,58,237,0.09)",border:"dark"===c?"1.5px solid rgba(124,58,237,0.28)":"1.5px solid #7c3aed"},children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{style:{fontWeight:700,fontSize:"1.5em",marginBottom:"0.8em",color:O},children:u}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.7em",marginBottom:"1.2em"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.7em"},children:[(0,i.jsx)("span",{style:{background:"#6366f1",color:"#fff",borderRadius:"8px",padding:"6px 18px",fontSize:"1em",fontWeight:600,minWidth:120,textAlign:"center"},children:"Pembimbing 1"}),(0,i.jsx)("span",{style:{fontWeight:500,color:f?O:"#aaa",fontSize:"1.08em"},children:f||"Belum diisi"})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.7em"},children:[(0,i.jsx)("span",{style:{background:"#6366f1",color:"#fff",borderRadius:"8px",padding:"6px 18px",fontSize:"1em",fontWeight:600,minWidth:120,textAlign:"center"},children:"Pembimbing 2"}),(0,i.jsx)("span",{style:{fontWeight:500,color:p?O:"#aaa",fontSize:"1.08em"},children:p||"Belum diisi"})]})]}),(0,i.jsx)("button",{style:{...X,marginTop:"0.5em",width:140},onClick:function(){j(u),v(f),D(p),$(!0)},children:"Edit Data"})]})}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"1.5rem",marginBottom:"2em",maxWidth:820,margin:"0 auto",justifyContent:"center",alignItems:"stretch",overflowX:"auto"},className:"main-menu-cards",children:[{href:"/penulisan",label:"\uD83D\uDCDD Penulisan"},{href:"/catatan",label:"\uD83D\uDCD2 Catatan"},{href:"/referensi",label:"\uD83D\uDCDA Referensi"},{href:"/kalender",label:"\uD83D\uDCC5 Kalender"}].map(e=>(0,i.jsx)("a",{href:e.href,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",minWidth:200,maxWidth:260,width:"100%",padding:"1.6em 1em",background:G,borderRadius:"16px",boxShadow:K,textAlign:"center",textDecoration:"none",color:O,fontWeight:700,fontSize:"1.18em",transition:"box-shadow 0.2s, transform 0.2s, background 0.2s",cursor:"pointer",border:"1.5px solid ".concat(Y),margin:"0.5em 0"},onMouseOver:e=>{e.currentTarget.style.boxShadow="dark"===c?"0 8px 32px rgba(99,102,241,0.18)":"0 8px 32px rgba(99,102,241,0.12)",e.currentTarget.style.transform="translateY(-2px) scale(1.03)",e.currentTarget.style.background="dark"===c?"#353a47":"#e0e7ff"},onMouseOut:e=>{e.currentTarget.style.boxShadow=K,e.currentTarget.style.transform="none",e.currentTarget.style.background=G},children:e.label},e.href))}),(0,i.jsxs)("div",{style:{...H},"data-section-style":!0,className:"checklist-section",children:[(0,i.jsx)("h2",{style:{fontSize:"1.32em",fontWeight:800,marginBottom:"1.1em"},children:"Checklist Belum Selesai"}),(0,i.jsxs)("div",{style:{marginBottom:"1.5em"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.09em",fontWeight:700,marginBottom:"0.6em"},children:"\uD83D\uDCDD Penulisan"}),(0,i.jsxs)("ol",{style:{padding:0,margin:0},children:[C.filter(e=>e&&!e.checked).map(e=>(0,i.jsxs)("li",{style:U,children:[(0,i.jsx)("span",{style:{background:"#6366f1",color:"#fff",borderRadius:"7px",fontSize:"0.9em",padding:"2px 10px"},children:"Penulisan"}),(0,i.jsx)("span",{children:e.text})]},e.id)),0===C.filter(e=>e&&!e.checked).length&&(0,i.jsx)("li",{style:{color:"#aaa",fontStyle:"italic",fontSize:"1.08em",margin:"0.7em 0"},children:"Semua penulisan selesai! \uD83C\uDF89"})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"1.5em"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.09em",fontWeight:700,marginBottom:"0.6em"},children:"\uD83D\uDCCB Tugas"}),(0,i.jsxs)("ol",{style:{padding:0,margin:0},children:[B.filter(e=>e&&!e.checked).map(e=>(0,i.jsxs)("li",{style:U,children:[(0,i.jsx)("span",{style:{background:"#6366f1",color:"#fff",borderRadius:"7px",fontSize:"0.9em",padding:"2px 10px"},children:"Tugas"}),(0,i.jsx)("span",{children:e.text})]},e.id)),0===B.filter(e=>e&&!e.checked).length&&(0,i.jsx)("li",{style:{color:"#aaa",fontStyle:"italic",fontSize:"1.08em",margin:"0.7em 0"},children:"Semua tugas selesai! \uD83C\uDF89"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{style:{fontSize:"1.09em",fontWeight:700,marginBottom:"0.6em"},children:"\uD83D\uDCC1 Berkas"}),(0,i.jsxs)("ol",{style:{padding:0,margin:0},children:[A.filter(e=>e&&!e.checked).map(e=>(0,i.jsxs)("li",{style:U,children:[(0,i.jsx)("span",{style:{background:"#6366f1",color:"#fff",borderRadius:"7px",fontSize:"0.9em",padding:"2px 10px"},children:"Berkas"}),(0,i.jsx)("span",{children:e.text})]},e.id)),0===A.filter(e=>e&&!e.checked).length&&(0,i.jsx)("li",{style:{color:"#aaa",fontStyle:"italic",fontSize:"1.08em",margin:"0.7em 0"},children:"Semua berkas selesai! \uD83C\uDF89"})]})]})]}),(0,i.jsxs)("div",{style:{...H},"data-section-style":!0,className:"progress-section",children:[(0,i.jsx)("h2",{style:{fontSize:"1.18em",fontWeight:800,marginBottom:"1em"},children:"Progress Checklist"}),(0,i.jsx)(q,{total:C.length,done:C.filter(e=>e&&e.checked).length,title:"Penulisan",color:"linear-gradient(90deg,#6366f1,#60a5fa)"}),(0,i.jsx)(q,{total:A.length,done:A.filter(e=>e&&e.checked).length,title:"Berkas",color:"linear-gradient(90deg,#34d399,#6366f1)"})]}),(0,i.jsxs)("div",{style:{...H},"data-section-style":!0,className:"jadwal-section",children:[(0,i.jsx)("h2",{style:{fontSize:"1.22em",fontWeight:800,marginBottom:"1.1em"},children:"Jadwal Tugas Akhir (Google Kalender)"}),M?(0,i.jsx)("div",{style:{color:"#888",textAlign:"center",padding:"1em"},children:"Mengambil jadwal..."}):0===R.length?(0,i.jsx)("div",{style:{color:"#aaa",textAlign:"center",padding:"1em"},children:"Tidak ada jadwal tugas akhir"}):(0,i.jsx)("ul",{style:{listStyle:"none",padding:0},children:R.map(e=>{var t,n,a,r;return(0,i.jsxs)("li",{style:{background:G,borderRadius:"14px",marginBottom:"1em",padding:"1em 1.2em",boxShadow:K,color:O,border:"1px solid ".concat(Y),transition:"box-shadow 0.2s, background 0.2s, transform 0.2s"},children:[(0,i.jsx)("div",{style:{fontWeight:"bold",fontSize:"1.08em",marginBottom:"0.3em"},children:e.summary}),(0,i.jsxs)("div",{style:{color:"dark"===c?"#a1a1aa":"#555",fontSize:"0.98em"},children:[(null===(t=e.start)||void 0===t?void 0:t.dateTime)?N(e.start.dateTime):null===(n=e.start)||void 0===n?void 0:n.date," - ",(null===(a=e.end)||void 0===a?void 0:a.dateTime)?N(e.end.dateTime):null===(r=e.end)||void 0===r?void 0:r.date]})]},e.id)})})]})]})}},2772:function(e,t,n){"use strict";let i=(0,n(6142).ZF)({apiKey:"AIzaSyAuMm9_M1MFh3MYZZtgXe-TLwgM9JrxCZo",authDomain:"tugas-akhir-4d34f.firebaseapp.com",projectId:"tugas-akhir-4d34f",storageBucket:"tugas-akhir-4d34f.appspot.com",messagingSenderId:"462715724181",appId:"1:462715724181:web:31ce2ce385699105c3969c",measurementId:"G-WJVJ2GVZWM"});t.Z=i},7907:function(e,t,n){"use strict";var i=n(5313);n.o(i,"useRouter")&&n.d(t,{useRouter:function(){return i.useRouter}})},6255:function(e,t,n){"use strict";n.d(t,{T5:function(){return o},iK:function(){return s}});var i=n(7437),a=n(2265);let r=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[n,o]=(0,a.useState)(null),[s,d]=(0,a.useState)(null);return(0,i.jsx)(r.Provider,{value:{user:n,setUser:o,calendarToken:s,setCalendarToken:d},children:t})}let s=()=>{let e=(0,a.useContext)(r);if(!e)throw Error("useAuthCalendar must be used within an AuthCalendarProvider");return e}},8628:function(e,t,n){"use strict";n.d(t,{H:function(){return d},a:function(){return l}});var i=n(7437),a=n(2265),r=n(1936),o=n(6520);let s=(0,a.createContext)({user:null,loading:!0});function d(e){let{children:t}=e,[n,d]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,r.Aj)(o.I,e=>{d(e),c(!1)});return()=>e()},[]),(0,i.jsx)(s.Provider,{value:{user:n,loading:l},children:t})}function l(){return(0,a.useContext)(s)}},6520:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var i=n(6142),a=n(1936),r=n(8121);let o=(0,i.C6)().length?(0,i.Mq)():(0,i.ZF)({apiKey:"AIzaSyAuMm9_M1MFh3MYZZtgXe-TLwgM9JrxCZo",authDomain:"tugas-akhir-4d34f.firebaseapp.com",projectId:"tugas-akhir-4d34f",storageBucket:"tugas-akhir-4d34f.appspot.com",messagingSenderId:"462715724181",appId:"1:462715724181:web:31ce2ce385699105c3969c",measurementId:"G-WJVJ2GVZWM"}),s=(0,a.v0)(o);(0,r.ad)(o)}},function(e){e.O(0,[609,15,828,971,69,744],function(){return e(e.s=9846)}),_N_E=e.O()}]);